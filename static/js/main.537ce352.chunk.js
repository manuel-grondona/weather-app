(this.webpackJsonpweather_app=this.webpackJsonpweather_app||[]).push([[0],{146:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"fetchDailyForecast",(function(){return W})),n.d(a,"fetchFiveDaysForecast",(function(){return E}));var r=n(6),c=n(0),i=n.n(c),o=n(16),l=n.n(o),s=n(12),d=n(7),u=n(171),h=n(172),j=n(176),b=n(147),f=n(45),p=n(2);function g(e){return Object(p.jsx)("svg",Object(f.a)(Object(f.a)({width:40,height:40,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(p.jsx)("path",{d:"M12.293 5.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L16.586 13H5a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",fill:"#0D0D0D"})}))}var O=n(30),x=function(){return Object(O.b)()},m=O.c,y=n(169),v=n(168),w=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],D=["January","February","March","April","May","June","July","August","September","October","November","December"],k=n(11),F=n.n(k),M=n(28),S=n(31),C="75f972b80e26f14fe6c920aa6a85ad57";function W(e){return z.apply(this,arguments)}function z(){return(z=Object(M.a)(F.a.mark((function e(t){var n,a,r,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.lat,a=t.lon,e.next=3,fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(n,"&lon=").concat(a,"&appid=").concat(C,"&exclude=current,minutely,hourly,alerts&units=imperial"));case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return H.apply(this,arguments)}function H(){return(H=Object(M.a)(F.a.mark((function e(){var t,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/forecast?q=buenos+aires,ar&APPID=".concat(C,"&cnt=40&units=imperial"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=Object(S.b)("fetchWeather",Object(M.a)(F.a.mark((function e(){var t,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchFiveDaysForecast();case 2:return t=e.sent,e.next=5,a.fetchDailyForecast(t.city.coord);case 5:return n=e.sent,e.abrupt("return",{daily:n,hourly:t});case 7:case"end":return e.stop()}}),e)})))),L=Object(S.c)({name:"weather",initialState:{loading:!0,unit:"fahrenheit",hourly:{list:[]},daily:{daily:[]},selectedDayDate:null,selectedDayHours:[]},reducers:{changeUnit:function(e,t){e.unit=t.payload},selectDay:function(e,t){var n=new Date(1e3*t.payload),a=e.hourly.list.filter((function(e){return new Date(1e3*e.dt).getDate()===n.getDate()}));e.selectedDayHours=a,e.selectedDayDate=t.payload}},extraReducers:function(e){e.addCase(I.pending,(function(e,t){e.loading=!0})),e.addCase(I.fulfilled,(function(e,t){var n=new Date(1e3*t.payload.daily.daily[1].dt),a=t.payload.hourly.list.filter((function(e){return new Date(1e3*e.dt).getDate()===n.getDate()}));e.loading=!1,e.hourly.list=t.payload.hourly.list,e.daily.daily=t.payload.daily.daily,e.selectedDayDate=t.payload.daily.daily[1].dt,e.selectedDayHours=a})),e.addCase(I.rejected,(function(e,t){e.loading=!1}))}}),A=L.actions,T=A.changeUnit,B=A.selectDay,J=L.reducer;function P(e){return 5/9*(e-32)}var R,N,U,_,q,X,Y=1024,G={desktop:"@media (min-width: ".concat(Y,"px)")},K=window.matchMedia("(min-width: ".concat(Y,"px)"));function Q(){var e=Object(c.useState)(!K.matches),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)({width:window.innerWidth,height:window.innerHeight}),i=Object(s.a)(r,2),o=i[0],l=i[1];return Object(c.useEffect)((function(){function e(e){a(!e.matches),l({width:window.innerWidth,height:window.innerHeight})}return K.addEventListener("change",e),function(){K.removeEventListener("change",e)}}),[]),{isMobile:n,screenSize:o}}function V(e){var t=e.temp,n=e.date,a=e.weather,r=m((function(e){return e.weather.unit})),c=m((function(e){return e.weather.selectedDayDate})),i=x(),o="fahrenheit"===r,l=c===n,s=new Date(1e3*n),d=s.getFullYear(),u=s.getDate(),h=s.getMonth(),j=D[h],f=s.getDay(),g=w[f],O=Math.round(o?t.max:P(t.max)),y=Math.round(o?t.min:P(t.min)),k=o?"\xb0F":"\xb0C";return Object(p.jsx)(ne,{selected:l,children:Object(p.jsx)(v.a,{disableTouchRipple:!0,onClick:function(){i(B(n))},children:Object(p.jsxs)(ae,{children:[Object(p.jsxs)("div",{children:[Object(p.jsx)(b.a,{variant:"h5",children:g}),Object(p.jsx)(b.a,{variant:"subtitle1",children:"".concat(u," ").concat(j," ").concat(d)})]}),Object(p.jsx)(re,{src:"http://openweathermap.org/img/wn/".concat(a.icon,"@2x.png"),alt:a.main}),Object(p.jsxs)(ce,{children:[Object(p.jsx)(ie,{variant:"h6",children:"".concat(O).concat(k)}),Object(p.jsx)(oe,{variant:"h6",children:"".concat(y).concat(k)})]})]})})})}var Z,$,ee,te,ne=Object(d.b)(j.a)(R||(R=Object(r.a)(["\n  width: 14rem;\n  text-align: center;\n  margin: auto;\n  border: ",";\n\n  "," {\n    margin: inherit;\n  }\n"])),(function(e){return e.selected?"1px solid #ffc107 !important":null}),G.desktop),ae=Object(d.b)(y.a)(N||(N=Object(r.a)(["\n  display: grid;\n  grid-gap: 1rem;\n  justify-content: center;\n"]))),re=d.b.img(U||(U=Object(r.a)(["\n  align-self: center;\n  height: 8rem;\n"]))),ce=d.b.div(_||(_=Object(r.a)(["\n  display: grid;\n  grid-gap: 1rem;\n  grid-template-columns: 1fr 1fr;\n"]))),ie=Object(d.b)(b.a)(q||(q=Object(r.a)(["\n  color: red;\n"]))),oe=Object(d.b)(b.a)(X||(X=Object(r.a)(["\n  color: blue;\n"])));function le(e){var t=e.currentIndex,n=m((function(e){return e.weather.daily})),a=x(),r=Q().screenSize,i=Object(c.useState)(1),o=Object(s.a)(i,2),l=o[0],d=o[1];return Object(c.useEffect)((function(){a(B(n.daily[l-1].dt))}),[l,a,n.daily]),Object(p.jsx)(de,{children:Object(p.jsx)(ue,{onScroll:function(e){var t=e.currentTarget;!function(e){var t=e.scrollWidth,a=e.scrollLeft,r=t/n.daily.length,c=Math.ceil(a/r),i=1+(a-r*c)/r>.5?c+1:c;i!==l&&d(i)}({scrollWidth:t.scrollWidth,scrollLeft:t.scrollLeft})},children:Object(p.jsx)(he,{currentIndex:t,screenWidth:r.width,children:n.daily.map((function(e){return Object(p.jsx)(je,{children:Object(p.jsx)(V,{temp:e.temp,date:e.dt,weather:e.weather[0]})},e.dt.toString())}))})})})}var se,de=d.b.div(Z||(Z=Object(r.a)([""]))),ue=d.b.div($||($=Object(r.a)(["\n  overflow-y: hidden;\n  padding: 4rem 0;\n  width: 100%;\n  height: 100%;\n  scroll-snap-type: x mandatory;\n\n  -ms-overflow-style: none;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n\n  "," {\n    padding: 2rem;\n    overflow: hidden;\n  }\n"])),G.desktop),he=d.b.div(ee||(ee=Object(r.a)(["\n  display: grid;\n  grid-auto-columns: ",";\n  grid-auto-flow: column;\n  scroll-snap-align: center;\n\n  "," {\n    display: flex;\n    transition: all 250ms linear;\n    transform: ",";\n\n    > * {\n      flex-shrink: 0;\n      flex-grow: 1;\n      width: calc(100% / 3);\n    }\n  }\n"])),(function(e){return"calc(".concat(e.screenWidth,"px)")}),G.desktop,(function(e){return"translateX(-".concat(100*Math.floor(e.currentIndex/3),"%)")})),je=d.b.div(te||(te=Object(r.a)(["\n  width: 100%;\n  text-align: center;\n  scroll-snap-align: center;\n\n  "," {\n    width: calc(100% / 3);\n    display: flex;\n    justify-content: center;\n  }\n"])),G.desktop),be=n(173),fe=n(175),pe=n(170),ge=n(174);function Oe(){var e=x(),t=Object(c.useState)("fahrenheit"),n=Object(s.a)(t,2),a=n[0],r=n[1];return Object(p.jsx)(ye,{children:Object(p.jsx)(ge.a,{component:"fieldset",children:Object(p.jsxs)(fe.a,{row:!0,name:"unit",value:a,onChange:function(t){return function(t){r(t.target.value),e(T(t.target.value))}(t)},children:[Object(p.jsx)(pe.a,{value:"celsius",control:Object(p.jsx)(be.a,{color:"primary"}),label:Object(p.jsx)(b.a,{variant:"h6",children:"Celsius"})}),Object(p.jsx)(pe.a,{value:"fahrenheit",control:Object(p.jsx)(be.a,{color:"primary"}),label:Object(p.jsx)(b.a,{variant:"h6",children:"Fahrenheit"})})]})})})}var xe,me,ye=d.b.div(se||(se=Object(r.a)(["\n  text-align: center;\n"]))),ve=n(15),we=ve.b(".2");function De(e){var t=e.data,n=e.x,a=e.y,r=e.height,c=e.top,i=e.bottom;return Object(p.jsxs)("g",{transform:"translate(".concat(n(t.hour.toString()),", ").concat(a(t.value),")"),children:[Object(p.jsx)("rect",{width:n.bandwidth(),height:r-i-c-a(t.value),fill:"#FEF5D7",stroke:"#FFCC00"}),Object(p.jsx)("text",{transform:"translate(".concat(n.bandwidth()/2,", ").concat(-6,")"),textAnchor:"middle",alignmentBaseline:"middle",fill:"grey",fontSize:"12",children:we(t.value)})]},t.index)}function ke(e){var t=e.bottom,n=e.left,a=e.height,r=e.scale,i=Object(c.useRef)(null);return Object(c.useEffect)((function(){ve.f(i.current).call(ve.a(r))})),Object(p.jsx)("g",{ref:i,transform:"translate(".concat(n,", ").concat(a-t+4,")")})}function Fe(e){var t=e.data,n=e.width,a=e.height,r=e.top,i=e.bottom,o=e.left,l=e.right,s=Q().isMobile,d=ve.d().range([0,n-o-l]).domain(t.map((function(e){return e.hour.toString()}))).padding(s?.2:.4),u=ve.e().range([a-r-i,0]).domain([0,ve.c(t,(function(e){return e.value}))]);return Object(p.jsx)(c.Fragment,{children:Object(p.jsxs)("svg",{width:n,height:a,children:[Object(p.jsx)(ke,{bottom:i,height:a,left:o,scale:d}),Object(p.jsx)("g",{transform:"translate(".concat(o,", ").concat(r,")"),children:t.map((function(e,t){return Object(p.jsx)(De,{data:e,x:d,y:u,height:a,top:r,bottom:i},e.hour)}))})]})})}function Me(e){var t=e.hourlyWeather,n=Q(),a=n.isMobile,r=n.screenSize,c=m((function(e){return e.weather.unit})),i=t.map((function(e,t){return{index:t,hour:new Date(1e3*e.dt).getHours(),value:Math.round("fahrenheit"===c?Math.round(e.main.temp):Math.round(P(e.main.temp)))}}));return Object(p.jsx)(Le,{children:null!=i&&i.length>0?Object(p.jsx)(Fe,{data:i,width:a?r.width-80:500,height:a?200:250,top:20,bottom:30,left:a?0:30,right:0}):Object(p.jsx)(Ae,{children:"No information for selected day"})})}var Se,Ce,We,ze,Ee,He,Ie,Le=d.b.div(xe||(xe=Object(r.a)(["\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n\n  "," {\n    padding: 4rem;\n    display: block;\n  }\n"])),G.desktop),Ae=d.b.p(me||(me=Object(r.a)(["\n  font-size: 1.6rem;\n"])));function Te(){var e=Object(c.useState)(1),t=Object(s.a)(e,2),n=t[0],a=t[1],r=x(),i=m((function(e){return e.weather.daily.daily})),o=m((function(e){return e.weather.selectedDayDate})),l=m((function(e){return e.weather.selectedDayHours})),d=Q().isMobile,h=i.length;return Object(c.useEffect)((function(){var e=i.findIndex((function(e){return e.dt===o}));a(e)}),[i,o]),Object(p.jsxs)(c.Fragment,{children:[Object(p.jsx)(Oe,{}),!d&&Object(p.jsxs)(Ue,{children:[n>0&&Object(p.jsx)("span",{children:Object(p.jsx)(u.a,{onClick:function(){r(B(i[n-1].dt)),a((function(e){return e-1}))},children:Object(p.jsx)(qe,{})})}),n<h-1&&Object(p.jsx)(_e,{children:Object(p.jsx)(u.a,{onClick:function(){r(B(i[n+1].dt)),a((function(e){return e+1}))},children:Object(p.jsx)(g,{})})})]}),Object(p.jsx)(le,{currentIndex:n}),Object(p.jsx)(Me,{hourlyWeather:l})]})}var Be,Je=d.b.div(Se||(Se=Object(r.a)(["\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Pe=d.b.div(Ce||(Ce=Object(r.a)(["\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n\n  "," {\n    width: 72rem;\n    height: 100%;\n    display: block;\n    align-items: center;\n    margin: auto;\n  }\n"])),G.desktop),Re=d.b.div(We||(We=Object(r.a)(["\n  margin: 1rem 0;\n\n  "," {\n    margin: 2rem 0;\n  }\n"])),G.desktop),Ne=Object(d.b)(j.a)(ze||(ze=Object(r.a)(["\n  padding: 4rem;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n\n  "," {\n    display: block;\n    height: 68rem;\n  }\n"])),G.desktop),Ue=d.b.div(Ee||(Ee=Object(r.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n"]))),_e=d.b.span(He||(He=Object(r.a)(["\n  justify-self: flex-end;\n  grid-column: 2;\n"]))),qe=Object(d.b)(g)(Ie||(Ie=Object(r.a)(["\n  transform: rotate(180deg);\n"]))),Xe=function(){var e=m((function(e){return e.weather.loading})),t=x(),n=Q().isMobile;return Object(c.useEffect)((function(){t(I())}),[t]),e?Object(p.jsx)(Je,{children:Object(p.jsx)(h.a,{})}):Object(p.jsxs)(Pe,{children:[Object(p.jsx)(Re,{children:Object(p.jsx)(b.a,{align:"center",variant:n?"h6":"h4",children:"Buenos Aires, Argentina"})}),n?Object(p.jsx)(Te,{}):Object(p.jsx)(Ne,{children:Object(p.jsx)(Te,{})})]})},Ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,177)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},Ge=Object(S.a)({reducer:{weather:J}}),Ke=Object(d.a)(Be||(Be=Object(r.a)(["\n  :root {\n    box-sizing: border-box;\n    font-size: 10px;\n  };\n\n  body {\n    margin: 0;\n  }\n\n  *, ::before, ::after {\n    box-sizing: inherit\n  }\n"])));l.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsxs)(O.a,{store:Ge,children:[Object(p.jsx)(Ke,{}),Object(p.jsx)(Xe,{})]})}),document.getElementById("root")),Ye()}},[[146,1,2]]]);
//# sourceMappingURL=main.537ce352.chunk.js.map