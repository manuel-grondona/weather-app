(this.webpackJsonpweather_app=this.webpackJsonpweather_app||[]).push([[0],{146:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"fetchDailyForecast",(function(){return z})),n.d(a,"fetchFiveDaysForecast",(function(){return I}));var r=n(6),c=n(0),i=n.n(c),o=n(15),l=n.n(o),s=n(19),u=n(7),d=n(171),h=n(172),j=n(176),b=n(44),f=n(2);function O(e){return Object(f.jsx)("svg",Object(b.a)(Object(b.a)({width:40,height:40,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(f.jsx)("path",{d:"M12.293 5.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L16.586 13H5a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",fill:"#0D0D0D"})}))}var p=n(30),x=function(){return Object(p.b)()},g=p.c,m=n(169),y=n(168),v=n(147),w=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],D=["January","February","March","April","May","June","July","August","September","October","November","December"],F=n(11),C=n.n(F),S=n(28),k=n(31),M="75f972b80e26f14fe6c920aa6a85ad57";function z(e){return H.apply(this,arguments)}function H(){return(H=Object(S.a)(C.a.mark((function e(t){var n,a,r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.lat,a=t.lon,e.next=3,fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(n,"&lon=").concat(a,"&appid=").concat(M,"&exclude=current,minutely,hourly,alerts&units=imperial"));case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return E.apply(this,arguments)}function E(){return(E=Object(S.a)(C.a.mark((function e(){var t,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/forecast?q=buenos+aires,ar&APPID=".concat(M,"&cnt=40&units=imperial"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J,T,A,B,P,W,L=Object(k.b)("fetchWeather",Object(S.a)(C.a.mark((function e(){var t,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchFiveDaysForecast();case 2:return t=e.sent,e.next=5,a.fetchDailyForecast(t.city.coord);case 5:return n=e.sent,e.abrupt("return",{daily:n,hourly:t});case 7:case"end":return e.stop()}}),e)})))),R=Object(k.c)({name:"weather",initialState:{loading:!0,unit:"fahrenheit",hourly:{list:[]},daily:{daily:[]},selectedDayDate:null,selectedDayHours:[]},reducers:{changeUnit:function(e,t){e.unit=t.payload},selectDay:function(e,t){var n=new Date(1e3*t.payload),a=e.hourly.list.filter((function(e){return new Date(1e3*e.dt).getDate()===n.getDate()}));e.selectedDayHours=a,e.selectedDayDate=t.payload}},extraReducers:function(e){e.addCase(L.pending,(function(e,t){e.loading=!0})),e.addCase(L.fulfilled,(function(e,t){var n=new Date(1e3*t.payload.daily.daily[1].dt),a=t.payload.hourly.list.filter((function(e){return new Date(1e3*e.dt).getDate()===n.getDate()}));e.loading=!1,e.hourly.list=t.payload.hourly.list,e.daily.daily=t.payload.daily.daily,e.selectedDayDate=t.payload.daily.daily[1].dt,e.selectedDayHours=a})),e.addCase(L.rejected,(function(e,t){e.loading=!1}))}}),N=R.actions,U=N.changeUnit,_=N.selectDay,q=R.reducer;function X(e){return 5/9*(e-32)}function Y(e){var t=e.temp,n=e.date,a=e.weather,r=g((function(e){return e.weather.unit})),c=g((function(e){return e.weather.selectedDayDate})),i=x(),o="fahrenheit"===r,l=c===n,s=new Date(1e3*n),u=s.getFullYear(),d=s.getDate(),h=s.getMonth(),j=D[h],b=s.getDay(),O=w[b],p=Math.round(o?t.max:X(t.max)),m=Math.round(o?t.min:X(t.min)),F=o?"\xb0F":"\xb0C";return Object(f.jsx)(Z,{selected:l,children:Object(f.jsx)(y.a,{disableTouchRipple:!0,onClick:function(){i(_(n))},children:Object(f.jsxs)($,{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(v.a,{variant:"h5",children:O}),Object(f.jsx)(v.a,{variant:"subtitle1",children:"".concat(d," ").concat(j," ").concat(u)})]}),Object(f.jsx)(ee,{src:"http://openweathermap.org/img/wn/".concat(a.icon,"@2x.png"),alt:a.main}),Object(f.jsxs)(te,{children:[Object(f.jsx)(ne,{variant:"h6",children:"".concat(p).concat(F)}),Object(f.jsx)(ae,{variant:"h6",children:"".concat(m).concat(F)})]})]})})})}var G,K,Q,V,Z=Object(u.b)(j.a)(J||(J=Object(r.a)(["\n  width: 14rem;\n  text-align: center;\n  background-color: ","!important;\n"])),(function(e){return e.selected?"#f8f9fa":null})),$=Object(u.b)(m.a)(T||(T=Object(r.a)(["\n  display: grid;\n  grid-gap: 1rem;\n  justify-content: center;\n"]))),ee=u.b.img(A||(A=Object(r.a)(["\n  align-self: center;\n  height: 8rem;\n"]))),te=u.b.div(B||(B=Object(r.a)(["\n  display: grid;\n  grid-gap: 1rem;\n  grid-template-columns: 1fr 1fr;\n"]))),ne=Object(u.b)(v.a)(P||(P=Object(r.a)(["\n  color: red;\n"]))),ae=Object(u.b)(v.a)(W||(W=Object(r.a)(["\n  color: blue;\n"])));function re(e){var t=e.currentIndex,n=g((function(e){return e.weather.daily}));return Object(f.jsx)(ie,{children:Object(f.jsx)(oe,{children:Object(f.jsx)(le,{style:{transform:"translateX(-".concat(t>2?100/3*(t-2):0,"%)")},children:n.daily.map((function(e){return Object(f.jsx)(se,{children:Object(f.jsx)(Y,{temp:e.temp,date:e.dt,weather:e.weather[0]})},e.dt.toString())}))})})})}var ce,ie=u.b.div(G||(G=Object(r.a)([""]))),oe=u.b.div(K||(K=Object(r.a)(["\n  padding: 2rem;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n"]))),le=u.b.div(Q||(Q=Object(r.a)(["\n  display: flex;\n  transition: all 250ms linear;\n\n  > * {\n    width: 100%;\n    flex-shrink: 0;\n    flex-grow: 1;\n    width: calc(100% / 3);\n  }\n"]))),se=u.b.div(V||(V=Object(r.a)(["\n  display: flex;\n  justify-content: center;\n"]))),ue=n(173),de=n(175),he=n(170),je=n(174);function be(){var e=x(),t=Object(c.useState)("fahrenheit"),n=Object(s.a)(t,2),a=n[0],r=n[1];return Object(f.jsx)(pe,{children:Object(f.jsx)(je.a,{component:"fieldset",children:Object(f.jsxs)(de.a,{row:!0,name:"unit",value:a,onChange:function(t){return function(t){r(t.target.value),e(U(t.target.value))}(t)},children:[Object(f.jsx)(he.a,{value:"celsius",control:Object(f.jsx)(ue.a,{color:"primary"}),label:Object(f.jsx)(v.a,{variant:"h6",children:"Celsius"})}),Object(f.jsx)(he.a,{value:"fahrenheit",control:Object(f.jsx)(ue.a,{color:"primary"}),label:Object(f.jsx)(v.a,{variant:"h6",children:"Fahrenheit"})})]})})})}var fe,Oe,pe=u.b.div(ce||(ce=Object(r.a)(["\n  text-align: center;\n"]))),xe=n(14),ge=xe.b(".2");function me(e){var t=e.data,n=e.x,a=e.y,r=e.height,c=e.top,i=e.bottom;return Object(f.jsxs)("g",{transform:"translate(".concat(n(t.hour.toString()),", ").concat(a(t.value),")"),children:[Object(f.jsx)("rect",{width:n.bandwidth(),height:r-i-c-a(t.value),fill:"#FEF5D7",stroke:"#FFCC00"}),Object(f.jsx)("text",{transform:"translate(".concat(n.bandwidth()/2,", ").concat(-6,")"),textAnchor:"middle",alignmentBaseline:"middle",fill:"grey",fontSize:"12",children:ge(t.value)})]},t.index)}function ye(e){var t=e.bottom,n=e.left,a=e.height,r=e.scale,i=Object(c.useRef)(null);return Object(c.useEffect)((function(){xe.f(i.current).call(xe.a(r))})),Object(f.jsx)("g",{ref:i,transform:"translate(".concat(n,", ").concat(a-t+4,")")})}function ve(e){var t=e.data,n=e.width,a=e.height,r=e.top,i=e.bottom,o=e.left,l=e.right,s=xe.d().range([0,n-o-l]).domain(t.map((function(e){return e.hour.toString()}))).padding(.4),u=xe.e().range([a-r-i,0]).domain([0,xe.c(t,(function(e){return e.value}))]);return Object(f.jsx)(c.Fragment,{children:Object(f.jsxs)("svg",{width:n,height:a,children:[Object(f.jsx)(ye,{bottom:i,height:a,left:o,scale:s}),Object(f.jsx)("g",{transform:"translate(".concat(o,", ").concat(r,")"),children:t.map((function(e,t){return Object(f.jsx)(me,{data:e,x:s,y:u,height:a,top:r,bottom:i},e.hour)}))})]})})}function we(e){var t=e.hourlyWeather,n=g((function(e){return e.weather.unit})),a=t.map((function(e,t){return{index:t,hour:new Date(1e3*e.dt).getHours(),value:Math.round("fahrenheit"===n?Math.round(e.main.temp):Math.round(X(e.main.temp)))}}));return Object(f.jsx)(ze,{children:null!=a&&a.length>0?Object(f.jsx)(ve,{data:a,width:500,height:250,top:20,bottom:30,left:30,right:0}):Object(f.jsx)(He,{children:"No information for selected day"})})}var De,Fe,Ce,Se,ke,Me,ze=u.b.div(fe||(fe=Object(r.a)(["\n  padding: 4rem;\n  text-align: center;\n"]))),He=u.b.p(Oe||(Oe=Object(r.a)(["\n  font-size: 1.6rem;\n"])));var Ie,Ee=u.b.div(De||(De=Object(r.a)(["\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Je=u.b.div(Fe||(Fe=Object(r.a)(["\n  height: 100vh;\n  width: 72rem;\n  margin: auto;\n  padding: 2rem 0;\n"]))),Te=Object(u.b)(j.a)(Ce||(Ce=Object(r.a)(["\n  padding: 4rem;\n"]))),Ae=u.b.div(Se||(Se=Object(r.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n"]))),Be=u.b.span(ke||(ke=Object(r.a)(["\n  justify-self: flex-end;\n  grid-column: 2;\n"]))),Pe=Object(u.b)(O)(Me||(Me=Object(r.a)(["\n  transform: rotate(180deg);\n"]))),We=function(){var e=Object(c.useState)(1),t=Object(s.a)(e,2),n=t[0],a=t[1],r=x(),i=g((function(e){return e.weather.daily.daily})),o=g((function(e){return e.weather.loading})),l=g((function(e){return e.weather.selectedDayDate})),u=g((function(e){return e.weather.selectedDayHours})),j=i.length;return Object(c.useEffect)((function(){r(L())}),[r]),Object(c.useEffect)((function(){var e=i.findIndex((function(e){return e.dt===l}));a(e)}),[i,l]),o?Object(f.jsx)(Ee,{children:Object(f.jsx)(h.a,{})}):Object(f.jsx)(Je,{children:Object(f.jsxs)(Te,{children:[Object(f.jsx)(be,{}),Object(f.jsxs)(Ae,{children:[n>0&&Object(f.jsx)("span",{children:Object(f.jsx)(d.a,{onClick:function(){r(_(i[n-1].dt)),a((function(e){return e-1}))},children:Object(f.jsx)(Pe,{})})}),n<j-1&&Object(f.jsx)(Be,{children:Object(f.jsx)(d.a,{onClick:function(){r(_(i[n+1].dt)),a((function(e){return e+1}))},children:Object(f.jsx)(O,{})})})]}),Object(f.jsx)(re,{currentIndex:n}),Object(f.jsx)(we,{hourlyWeather:u})]})})},Le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,177)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},Re=Object(k.a)({reducer:{weather:q}}),Ne=Object(u.a)(Ie||(Ie=Object(r.a)(["\n  :root {\n    box-sizing: border-box;\n    font-size: 10px;\n  };\n\n  body {\n    margin: 0;\n  }\n\n  *, ::before, ::after {\n    box-sizing: inherit\n  }\n"])));l.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsxs)(p.a,{store:Re,children:[Object(f.jsx)(Ne,{}),Object(f.jsx)(We,{})]})}),document.getElementById("root")),Le()}},[[146,1,2]]]);
//# sourceMappingURL=main.39c1191b.chunk.js.map